---
title: "Tutorial: Provision a bot in Azure"
description: Learn how to create Azure resources that you'll need before you publish your bot to Azure.
author: JonathanFingold
ms.author: iawilt
manager: shellyha
ms.reviewer: micchow
ms.service: bot-service
ms.topic: tutorial
ms.date: 03/03/2022
---

# Tutorial: Provision a bot in Azure

[!INCLUDE [applies-to-v4](./includes/applies-to-v4-current.md)]

This tutorial covers how to create resources with the Azure CLI in order to publish your bot to Azure.
This process is also called _provision your bot in Azure_.
These resources allow:

- Azure to identify your bot.
- You to host the bot app and define its compute resources.
- You to register and configure your bot service.

This tutorial describes how to:

> [!div class="checklist"]
> - Sign in to Azure and select a subscription
> - Create an identity resource
> - Create resources with an ARM template
> - Update project configuration settings

## Prerequisites

[!INCLUDE [Azure CLI prerequisites](./includes/az-cli/prereqs.md)]

You need a bot. If you don't have one yet, see [Create a bot](./bot-service-quickstart-create-bot.md).
Alternatively, you can use a sample bot from [Bot Framework Samples](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md).

Starting with Bot Framework SDK 4.14.1.2, when you create a bot from a VSIX or Yeoman template, the resulting project contains ARM templates.
The samples and any new bots created from a Bot Framework template contain a _deployment templates_ directory that contains the ARM templates.
You'll use the ARM templates to provision many of your bot resources.

## Sign in to Azure and select a subscription

[!INCLUDE [Sign into Azure and select a subscription](./includes/az-cli/sign-in-select-subscription.md)]

<a id="create-app-registration"></a>
<a id="create-an-app-registration"></a>

## Create an identity resource

[!INCLUDE [Create a user-assigned managed identity or an Azure AD app registration](./includes/az-cli/create-identity-resource.md)]

## Create resources with an ARM template

You'll use an Azure Resource Manager (ARM) template to create an app service and Azure Bot resource.

Your bot project's _deployment templates_ directory contains two ARM templates.

- One creates resources in a _new_ resource group, with a new app service plan.
- One creates resources in an _existing_ resource group, with a new or existing app service plan.

Choose the option that works best for you.
This step can take a few minutes to complete.

> [!TIP]
> **Web App Bot** and **Bot Channels Registration** are deprecated but existing resources will continue to work. If you created your bot project with a VSIX or Yeoman template from SDK version 4.14.1.2 or later, your project will contain ARM templates for generating an Azure Bot resource.

### [New resource group](#tab/newgroup)

[!INCLUDE [ARM with new resource group](./includes/az-cli/arm-provision-to-new-rg.md)]

### [Existing resource group](#tab/existinggroup)

[!INCLUDE [ARM with existing resource group](./includes/az-cli/arm-provision-to-existing-rg.md)]

---

## Update project configuration settings

[!INCLUDE [app ID and password](./includes/authentication/azure-bot-appid-password.md)]

## Additional information

### Resource locations

Some of the commands require a location or region parameter.

- Use `az account list-locations` to list supported regions for the current subscription.
- Use `az config set defaults.location=<location>` to set the default location to use for all `az` commands.

To create bots with data residency in Europe or the US, use "westeurope" or "westus2", respectively, for the location for the resource group and all bot resources.
For more information about data residency, see [Answering Europe's Call: Storing and Processing EU Data in the EU](https://blogs.microsoft.com/eupolicy/2021/05/06/eu-data-boundary/).

### Azure documentation

[!INCLUDE [Azure documentation for bot hosting](./includes/azure-docs/apps-and-resources.md)]

### Azure portal

Instead of using the Azure CLI, you can use the [Azure portal](https://portal.azure.com/) to register a bot with Azure Bot Service. You might do so if you don't currently host your bot in Azure but want to make it available in Azure and use Azure to connect your bot to channels. For more information, see [Create an Azure Bot resource](./v4sdk/abs-quickstart.md).

You can also use the [Azure portal](https://portal.azure.com/) to provision additional resources, such as [Application Insights for telemetry](./v4sdk/bot-builder-telemetry.md).
XML-escape app secrets or passwords generated by the Azure portal before adding them as strings in your bot's config settings.

## Clean up resources

If you're not going to publish this application, delete the associated resources with the following steps:

1. In the Azure portal, open the resource group for your bot.
    1. Select **Delete resource group** to delete the group and all the resources it contains.
    1. Enter the _resource group name_ in the confirmation pane, then select **Delete**.
1. If you created a single-tenant or multi-tenant app:
    1. Go to the Azure Active Directory blade.
    1. Locate the app registration you used for your bot, and delete it.

## Next steps

Now that resources exist for your bot and your bot's code is updated, you're ready to publish your bot.

> [!div class="nextstepaction"]
> [Publish a bot to Azure](./tutorial-publish-a-bot.md)
