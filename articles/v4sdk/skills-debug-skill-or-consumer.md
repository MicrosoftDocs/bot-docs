---
title: How to debug a skill or skill consumer | Microsoft Docs
description: Describes how to debug a skill or skill consumer with ngrok, when only one bot is local.
keywords: bot skill, skill bot, skill consumer, debug
author: JonathanFingold
ms.author: kamrani
manager: kamrani
ms.topic: article
ms.service: bot-service
ms.date: 07/15/2020
monikerRange: 'azure-bot-service-4.0'
---

# Debug a skill or skill consumer

[!INCLUDE [applies-to-v4](../includes/applies-to.md)]

You may need to debug a skill or skill consumer bot where the one you want to debug is running locally and the other is running in the cloud. In this situation, you can use the ngrok tool to expose the local bot endpoint as a public URL.

## Prerequisites

- A subscription to [Microsoft Azure](https://azure.microsoft.com/).
- [ngrok](https://ngrok.com/) installed.
- The [Bot Framework Emulator](https://aka.ms/Emulator-wiki-getting-started) installed.
- Knowledge of [skills](skills-conceptual.md), how to [debug a bot](../bot-service-debug-bot.md), how to [debug a bot from any channel using ngrok](../bot-service-debug-channel-ngrok.md), and how to [debug with the emulator](../bot-service-debug-emulator.md).
- Registered skill and skill consumer bots.

## To debug a local skill consumer

In this scenario, you do not need to modify the configuration of the deployed skill and you can use the Bot Framework Emulator to test the consumer directly.

1. Set up a tunnelling endpoint for the local bot and configure its registration in the Azure portal as described in how to [debug a bot from any channel using ngrok](../bot-service-debug-channel-ngrok.md).
1. Update the consumer's application configuration, and set the skill host endpoint to the URL generated by ngrok.
1. Finally, run the consumer locally and connect to it as described in how to [debug with the emulator](../bot-service-debug-emulator.md).

## To debug a local skill bot

While you are testing changes to a skill, you may want to run and debug it locally while it is accessed from a consumer bot hosted on a staging server.

In this scenario, you need to modify the configuration of the deployed skill consumer. Since you will use the consumer to test the bot, you can run the skill in debug mode and access its internal state from an IDE, as described in how to [debug a bot](../bot-service-debug-bot.md).

1. Set up a tunnelling endpoint for the local bot and configure its registration in the Azure portal as described in how to [debug a bot from any channel using ngrok](../bot-service-debug-channel-ngrok.md).
1. Update the consumer's application configuration, and set the skill endpoint to the URL generated by ngrok.
   You may be able to edit the configuration directly on the server or you may have to redeploy the skill consumer.
1. Run the skill locally and invoke it from the skill consumer.
