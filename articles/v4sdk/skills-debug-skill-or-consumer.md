---
title: How to debug a skill or skill consumer
description: Describes how to debug a skill or skill consumer with ngrok, when only one bot is local.
keywords: bot skill, skill bot, skill consumer, debug
author: JonathanFingold
ms.author: iawilt
manager: shellyha
ms.reviewer: micchow
ms.topic: how-to
ms.service: bot-service
ms.date: 11/02/2021
monikerRange: 'azure-bot-service-4.0'
---

# Debug a skill or skill consumer

[!INCLUDE [applies-to-v4](../includes/applies-to-v4-current.md)]

You may need to debug a skill or skill consumer bot, where the one you want to debug is running locally and the other is running in the cloud. In this situation, you can use the ngrok tool to expose the local bot endpoint as a public URL.

## Prerequisites

- A subscription to [Microsoft Azure](https://azure.microsoft.com/).
- [ngrok](https://ngrok.com/) installed.
- The [Bot Framework Emulator](https://github.com/Microsoft/BotFramework-Emulator/blob/master/README.md) installed.
- Knowledge of [skills](skills-conceptual.md), how to [debug a bot](../bot-service-debug-bot.md), how to [debug a bot from any channel using ngrok](../bot-service-debug-channel-ngrok.md), and how to [debug with the Emulator](../bot-service-debug-emulator.md).
- Registered skill and skill consumer bots.

## To debug a local skill consumer

In this scenario, you do not need to modify the configuration of the deployed skill and you can use the Bot Framework Emulator to test the consumer directly.

1. Set up a tunneling endpoint for the local bot and configure its registration in the Azure portal as described in how to [debug a bot from any channel using ngrok](../bot-service-debug-channel-ngrok.md).
1. Update the consumer's application configuration, and set the skill host endpoint to the URL generated by ngrok.
1. Finally, run the consumer locally and connect to it as described in how to [debug with the Emulator](../bot-service-debug-emulator.md).

> [!TIP]
> The local consumer will need a valid app ID and password.

## To debug a local skill bot

While you are testing changes to a skill, you may want to run and debug it locally while it is accessed from a consumer bot hosted on a staging server.

In this scenario, you need to modify the configuration of the deployed skill consumer. Since you will use the consumer to test the bot.

1. Set up a tunneling endpoint for the local bot and configure its registration in the Azure portal as described in how to [debug a bot from any channel using ngrok](../bot-service-debug-channel-ngrok.md).
1. Update the consumer's application configuration, and set the skill endpoint to the URL generated by ngrok.
   You can either edit the configuration directly on the server or edit the configuration locally and redeploy the skill consumer.
1. Run the skill locally and invoke it from the skill consumer.

> [!TIP]
> The local skill will need a valid app ID and password.

## Next steps

For more information about how to create skill and skill consumer bots, see:

- [Implement a skill](skill-implement-skill.md)
- [Use dialogs within a skill](skill-actions-in-dialogs.md)
- [Implement a skill consumer](skill-implement-consumer.md)
- [Use a dialog to consume a skill](skill-use-skilldialog.md)
